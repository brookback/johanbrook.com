

<!DOCTYPE html>
<html lang="en" class="post add-delight-to-web-forms-with-code-sample">

  <head itemtype="http://schema.org/Blog" itemscope>
    <title>Add delight to web forms (with code sample)</title>

    <meta charset="utf-8">

    
    <meta name="keywords" content="Ajax,city,form,HTML,Javascript,jQuery,JSON,postal code,User Experience">
    <meta name="author" content="Johan Brook">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Styles-->
    <link rel="stylesheet" href="/assets/css/johan.css">
    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="Johan's RSS feed" href="/rss.xml">

    <link rel="shortcut icon" href="/favicon.png" type="image/png">
    <link rel="canonical" itemprop="url" href="https://www.johanbrook.com/writings/add-delight-to-web-forms-with-code-sample/">
    <link rel="author" href="https://johanbrook.com">

    <meta property="og:title" content="Add delight to web forms (with code sample)">
    <meta property="og:url" content="https://www.johanbrook.com/writings/add-delight-to-web-forms-with-code-sample/">
    <meta property="og:site_name" itemprop="name" content="Johan Brook">
    <meta property="og:type" content="blog">
    <meta property="og:image" content="https://www.johanbrook.com/assets/images/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="1200">
    

    
    <meta property="article:author" content="http://facebook.com/johanbrook">
    <meta property="article:tag" content="Ajax,city,form,HTML,Javascript,jQuery,JSON,postal code,User Experience">
    <meta property="article:published_time" content="2011-07-06T09:54:00.000Z">
    
  </head>

  <body>

    <nav role="navigation" class="main-navigation" name="top">
  <ul class="navigation__primary">
    <li class="">
      <a href="/">About me</a>
    </li>
    <li class="">
      <a href="/now">Now</a>
    </li>
    <li class="nav--current">
      <a href="/writings">Writings</a>
    </li>
    <li class="">
      <a href="/contact">Contact</a>
    </li>
    <li class="">
      <a href="/changelog">Changelog</a>
    </li>
  </ul>

  <ul class="navigation__secondary">
    <li>
      <a href="http://twitter.com/johanbrook">@johanbrook</a>
    </li>
    <li>
      <a title="Oh, you don't have your personal API yet?" href="/meta.json">API</a>
    </li>
  </ul>
</nav>

<a href="#top" class="mobile-nav-trigger" data-show-nav>
  
<svg class='icon icon-list '>
  <use xlink:href='/assets/entypo.svg#icon-list'></use>
</svg>
 Navigation
</a>


    <main role="main">
  <article role="article" itemscope itemtype="http://schema.org/BlogPosting">
    <header> 
      <h1 itemprop="name" class="f1-ns f3">Add delight to web forms (with code sample)</h1>
      <p class="post__meta">
        <time datetime="2011-07-06T09:54:00.000Z" itemprop="datePublished" title="7 years ago" pubdate>July 6, 2011</time>
        <span class="meta__stats">About 3 min reading time</span>
      </p>
    </header>

    <div class="article-text post__body" itemprop="articleBody">
      <p>Marking up and styling forms in HTML and CSS is something you either love or hate. Personally I love it, since it's one of these things I can be really nitty-picky with – to iterate and iterate over the appearance and behavior of the form. &quot;Is this simple enough? Is this section necessary? Should we separate this from that?&quot;, and so on.</p>
<p>I also love the small details in forms where the regular visitor in me thinks &quot;Huh, that's neat of the form to do that for me&quot;, and the web developer in me raises a smile and a quiet chuckle. A great example is the ordering form for <a href="https://www.panic.com/transmit/buy.html">Panic's Transmit</a>.</p>
<h2>Exhibit A: &quot;How many copy may I get you?&quot;</h2>
<p><a href="http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-1-copy.png"> <img src="http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-1-copy.png" alt="Panic Transmit"> </a> Everything looks as it should do. Nothing unusual. <a href="http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-3-copies.png"> <img src="http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-3-copies.png" alt="Panic Transmit"> </a> Try changing the amount of copies, and watch the grammar of the sentence change as well. Also: switch between the &quot;Transmit 4&quot; and &quot;Transmit 4 Upgrade&quot; options and see the sentences change.</p>
<p>That's cool, isn't it? Those small details which really feel logical – <em>how it should be done everywhere</em>. It's quite interesting that we're stunned over these kind of details when it should be obvious for a web developer to implement this. This is how we expect forms to work.</p>
<h2>Exhibit B: &quot;Are we there yet?&quot;</h2>
<p>In the same form, scroll to the bottom and you'll find the submit button disguised as a progress meter. It'll update live as you complete the form, giving you instant feedback on the eternal question: &quot;Did I get 'em all now?&quot;.</p>
<p><a href="http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-Process.png"> <img src="http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-Process.png" alt="Panic Transmit"> </a> <a href="http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-Done.png"> <img src="http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-Done.png" alt="Panic Transmit"> </a></p>
<p>I'm sure there are a ton of cases like these all over the websites belonging to hip companies.</p>
<h2>A quick example of nice UX:</h2>
<p>Automatically fetch the city based on a postal code
How to you add delight to a form, without writing a whole jQuery plugin for it? Let's say you have a sign up form which includes a postal code and city.</p>
<pre><code>&lt;form method=&quot;POST&quot; action=&quot;&quot;&gt;
	&lt;label&gt;Postal code 
		&lt;input type=&quot;text&quot; placeholder=&quot;810 20&quot; id=&quot;postal-code&quot; /&gt;
	&lt;/label&gt;
	
	&lt;label&gt;City 
		&lt;input type=&quot;text&quot; placeholder=&quot;City&quot; id=&quot;city&quot; /&gt;
	&lt;/label&gt;
&lt;/form&gt;
</code></pre>
<p>That code would produce this:</p>
<p>Postal code</p>
<p>City</p>
<p>Nothing weird going on. Now imagine if we could automatically fill the &quot;City&quot; field based on the value from the postal code field. That would be rad, wouldn't it? (Yep, I'm bringing &quot;rad&quot; back).</p>
<p>What's needed? Well, we have to figure out the actual city name. Luckily, there are services for that. You might want to find one for your own country – I found <a href="http://postnummersok.se/">Postnummersök</a> and <a href="http://yourmoneyisnowmymoney.com/api/">Zip Code API</a> for Swedish postal codes. I'm pretty confident APIs exist for postal code lookups in your country ( <a href="http://www.google.se/search?sourceid=chrome&amp;ie=UTF-8&amp;q=zip+code+to+city+api">Google will help you</a>). Go for a simple API, preferably REST and optimally a version which offers JSONP, which means you're able to fetch data right from the Javascript – working around the cross domain restriction.</p>
<p>I ended up with Postnummersok.se, whose API is really simple and straightforward: just send a REST GET request to <code>http://postnummersok.se/api</code> with the postal code in the <code>q</code> parameter. The response will be returned in JSON (yay!). Even JSONP is possible if you use the <code>callback</code> parameter. Follow along below.</p>
<pre><code>$(&quot;#postal-code&quot;).blur(function(){ 
	var url = &quot;http://postnummersok.se/api?callback=?&quot;,
		// remove whitespace in postal code 
		code = encodeURI(this.value.replace(/s+/g, &quot;&quot;)); 
		
	$.getJSON(url, {q: code}, function(json){ 
		if(json === null) return; 
		
		$(&quot;#city&quot;).val(json[0]).select(); 
	}); 
});
</code></pre>
<p>As you can see I'm using jQuery in this example. A simple <code>blur</code> event is binded to the postal code field, and the API URL is defined. Note the <code>?callback=?</code> piece, which tells the jQuery XHR to treat the call as JSONP <a href="http://api.jquery.com/jQuery.getJSON/#jsonp">(read more in the API)</a>.</p>
<p>I also removed whitespace in the postal code (some people may write it as &quot;810 20&quot;, and others &quot;81020&quot;) since I discovered the API didn't like the whitespace formatted version (even though it's URI encoded).</p>
<p>The XHR call is made with <code>$.getJSON</code> specifying the postal code as query parameter. A JSON object is returned in the success callback and then I put it in the city field. In this case the JSON consisted of an array – hence the <code>json[0]</code> construct – and I want the first (and only) value of that array. Lastly I made sure to select/highlight the input field with <code>select()</code> to provide a quick way for the visitor to erase the city name if it's incorrect.</p>
<p>Try it out:</p>
<p>Postal code</p>
<p>City</p>
<p>(As mentioned, it's only taking Swedish postal codes. Try &quot;810 20&quot; and &quot;810 22&quot;, as an example).</p>
<p>Neat, isn't it? Thanks to jQuery and the simplicity of the postal code API, we have created this great UX feature just in a couple of lines of code. It's easy for the visitor to get around (just erase the selected city suggestion) and it degrades well (there are no vital features depending on Javascript here).</p>
<h2>Outro</h2>
<p>When building forms: put some effort into it, and use your fantasy. &quot;How could I make this super boring form really awesome, easy, and even fun to fill in?&quot;. Add delight, but don't get in the visitor's way. Add helpful validation messages, and other help text without bloating the whitespace. Form building is truly a form of art, therefore: iterate, iterate, iterate.</p>

    </div>
  </article>
</main>


    <footer role="contentinfo" class="pv6 tilted tilted--top mt4">
  <nav role="navigation" class="footer-nav">
    <ul class="primary-footer-nav mb3">
      <li><a href="/writings" title="Posts and essays">Writings</a></li>
      <li><a href="/now" title="What I'm doing with my life">Now</a></li>
      <li><a href="/contact" title="Contact and stuff">On the web</a></li>
      <li><a href="/changelog" title="What's happened in my life so far">Changelog</a></li>
      <li><a href="/contact">Contact</a></li>
    </ul>

    <ul class="secondary-nav">
  <li><a href="/credits" title="Licenses and stuff.">Credits</a></li>
  <li><a href="/feed.xml">Feed</a></li>
</ul>

  </nav>
</footer>


    <script type="text/javascript">
      function init() {
        addClasses();

        if (window.matchMedia("(max-width: 481px)").matches) {
          window.scroll(0, 200);
        }

        function first(array, n, guard) {
          if (array == null) return void 0;
          if (n == null || guard) return array[0];

          return [].slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));
        };

        function transform(text) {
          const DELIMITER = /\.|,/;
          const sentences = text.split('.');
          const index = text.search(DELIMITER);
          const MAX_WORDS = 6;

          function wrap(w, t) {
            return `<strong>${w}</strong> ${t}`;
          }

          if (index > -1 && index <= 50) {
            return wrap(text.split(DELIMITER)[0], text.substring(index));
          }

          const words = text.split(' ');
          const first = words.splice(0, MAX_WORDS);

          return wrap(first.join(' '), words.join(' '));
        };

        const paragraphs = document.querySelectorAll('.posts article .post__body p');

        [].slice.call(paragraphs).forEach(function (p) {
          if (p.firstChild && (!p.firstChild.tagName || p.firstChild.tagName !== 'STRONG')) {
            p.innerHTML = transform(p.innerText);
          }
        });
      };

      function addClasses() {
        const p = document.querySelectorAll('.post article .post__body p');
        p.length > 0 && p[0].classList.add('ingress');
      };

      document.addEventListener('DOMContentLoaded', init, false);
    </script>
  </body>

</html>
